<!DOCTYPE HTML>
<html>

<head>  
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript" src="/canvasjs"></script>

	<script type="text/javascript">

		function updateChart(dataset, labels)
		{
			$.getJSON("http://localhost:4242/json?data=" + dataset + "&labels=" + labels, function(result)
			{

				var chart = new CanvasJS.Chart("chartContainer",
				{			
					axisX:
					{
						gridThickness: 0,
						labelFontSize: 10
					},
					axisY:
					{
						gridThickness: 0,
						labelFontSize: 10
					},
					data: [
					{        
						markerSize: 3,
						type: "scatter",  
						dataPoints: result.mat,
					}
					],
					zoomEnabled: true,
					zoomType: "xy"
					
				});				

				chart.render();

			});
		}

		$( document ).ready(function() 
		{

			$( "#datasetForm" ).submit(function(evt) 
			{
				updateChart($("#dataset").val(), $("#labels").val())
				evt.preventDefault();
			});

		});		

	</script>

</head>
<body>
	<form id="datasetForm" action="#">
	<label for="dataset">Data set: </label><input type="text" name="dataset" id="dataset" value="oneshot" /><br/>
	<label for="labels">Labels: </label><input type="text" name="labels" id="labels" value="cc" /><br/>
	<input type="submit" id="datasetSubmit" value="Show">
	</form>
	<div id="chartContainer" style="width: 500px; height: 500px;">
	</div>
</body>

</html>
